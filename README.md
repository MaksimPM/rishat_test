<h1 align="center">RishatTest</a> 
<h2 align="left">Для запуска проекта необходимо:</h2>
  
• Установить виртуальное окружение в корневой папке проекта командой:
```shell
python3 -m venv venv
```

• Создать в корне проекта файл ```.env``` и заполнить данные по образцу из файла ```.env.sample```

• Установить все необходимые зависимости, указанные в файле ```requirements.txt```:
```shell
pip install -r requirements.txt
```
• Выполнить создание и применение миграций командами:
```shell
python3 manage.py makemigration
```
```shell
python3 manage.py migrate
```
   
• Создать суперпользователя командой:
```shell
python3 manage.py csu
```

• Запустить сервер командой
```shell
python3 manage.py runserver
```

<h2 align="left">Запуск проекта через Docker:</h2>

• Создать в корне проекта файл ```.env.docker``` и заполнить данные по образцу из файла ```.env.docker.sample```

• Создать Docker контейнер командой:
```shell
docker-compose build
```
• Запустить Docker контейнер командой:
```shell
docker-compose up
```
<h2 align="left">Логика работы:</h2>

Пользователь переходит на страницу по URL ```/item/{id}``` где отображается информация о товаре, включая его название, описание и цену.
При нажатии на кнопку ```BUY``` JavaScript код инициирует запрос к API бэкенда Django. Этот запрос отправляется на URL ```/buy/{id}```, где ```{id}``` это идентификатор товара.

Запрос к API бэкенда Django: Django-вид обрабатывает запрос и создает ```session_id```, используя API Stripe, который возвращается в ответе на запрос.

JavaScript код на клиентской стороне получает ```session_id``` из ответа на запрос и использует его для перенаправления пользователя на страницу оплаты Stripe.

Перенаправление на страницу оплаты Stripe: При получении ```session_id``` JavaScript код использует Stripe.js 
для перенаправления пользователя на страницу оплаты Stripe. Пользователь видит страницу оплаты, где может ввести данные своей кредитной карты или использовать другие методы оплаты.

Пользователь завершает процесс оплаты на странице Stripe. После успешной оплаты Stripe 
перенаправляет пользователя на страницу ```success_url```, которая была указана при создании ```session_id```. Если оплата не прошла или была отменена, пользователь перенаправляется на ```cancel_url```
